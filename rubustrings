#!/usr/bin/env swift

import Foundation


guard Process.arguments.count > 1 else {
    print("No strings file provided")
    exit(0)
}

var error = false
for fileName in Process.arguments where fileName != Process.arguments.first {
    print("\nProcessing file: \(fileName)")
    
    if system("./rubustrings.rb \(fileName)") == 0 {
        print("\nResult: ✓ Strings file validated succesfully")
    }
    else {
        print("\nResult: ✘ Some errors detected")
        error = true
    }
}

exit(error ? 1 : 0)

